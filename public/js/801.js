(self.webpackChunk=self.webpackChunk||[]).push([[801],{9801:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});a(1263),a(122);const r={name:"createStore",data:function(){return{stores:[],pagination:{},isLoad:!1,param_store_id:this.$route.params.store_id,isViewCreate:this.$route.params.flag,formData:{},formCreateData:{store_name:"",address:"",site_url:"",email:"",inn:"",general_fullname:"",contact_fullname:""},create_errors:{},formEditData:{id:-1,store_name:"",address:"",site_url:"",email:"",inn:"",general_fullname:"",contact_fullname:""},edit_errors:{},errors:{}}},computed:{},methods:{resetFormCreate:function(){this.formCreateData.store_name="",this.formCreateData.address="",this.formCreateData.site_url="",this.formCreateData.email="",this.formCreateData.inn="",this.formCreateData.general_fullname="",this.formCreateData.contact_fullname=""},resetFormEdit:function(){this.formEditData.id=-1,this.formEditData.store_name="",this.formEditData.address="",this.formEditData.site_url="",this.formEditData.email="",this.formEditData.inn="",this.formEditData.general_fullname="",this.formEditData.contact_fullname=""},sendData:function(){this.isViewCreate?(console.log("sendCreateStore"),this.sendCreateStore()):(console.log("sendUpdateStore"),this.sendEditStore())},sendCreateStore:function(){var t=this,e=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+e,axios.post("/api/create_store",this.formCreateData).then((function(e){t.resetFormCreate(),t.$router.push("/stores-list")})).catch((function(e){t.create_errors=e.response.data.errors}))},sendEditStore:function(){var t=this,e=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+e,this.formCreateData.id=this.param_store_id,axios.post("/api/update_store",this.formCreateData).then((function(e){t.resetFormEdit(),t.$router.push("/stores-list")})).catch((function(e){t.create_errors=e.response.data.errors}))},getDetailStore:function(){var t=this,e=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+e,axios.post("/api/detail_store_info",{store_id:this.param_store_id}).then((function(e){t.formCreateData.store_name=e.data.store.store_name,t.formCreateData.address=e.data.store.address,t.formCreateData.site_url=e.data.store.site_url,t.formCreateData.email=e.data.store.email,t.formCreateData.inn=e.data.store.inn,t.formCreateData.general_fullname=e.data.store.general_fullname,t.formCreateData.contact_fullname=e.data.store.contact_fullname})).catch((function(e){t.create_errors=e.response.data.errors}))}},mounted:function(){this.isViewCreate||this.getDetailStore()}};const o=(0,a(1900).Z)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.isViewCreate?a("h2",[t._v("\n        Create Store \n    ")]):t._e(),t._v(" "),t.isViewCreate?t._e():a("h2",[t._v('\n        Edit Store "'+t._s(t.formCreateData.store_name)+'" \n    ')]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"store_name"}},[t._v("Store name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formCreateData.store_name,expression:"formCreateData.store_name"}],staticClass:"form-control",attrs:{type:"text",name:"store_name"},domProps:{value:t.formCreateData.store_name},on:{input:function(e){e.target.composing||t.$set(t.formCreateData,"store_name",e.target.value)}}}),t._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.create_errors.store_name)}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"address"}},[t._v("Address")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formCreateData.address,expression:"formCreateData.address"}],staticClass:"form-control",attrs:{type:"text",name:"address"},domProps:{value:t.formCreateData.address},on:{input:function(e){e.target.composing||t.$set(t.formCreateData,"address",e.target.value)}}}),t._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.create_errors.address)}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"site_url"}},[t._v("Url")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formCreateData.site_url,expression:"formCreateData.site_url"}],staticClass:"form-control",attrs:{type:"text",name:"site_url"},domProps:{value:t.formCreateData.site_url},on:{input:function(e){e.target.composing||t.$set(t.formCreateData,"site_url",e.target.value)}}}),t._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.create_errors.site_url)}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formCreateData.email,expression:"formCreateData.email"}],staticClass:"form-control",attrs:{type:"text",name:"email"},domProps:{value:t.formCreateData.email},on:{input:function(e){e.target.composing||t.$set(t.formCreateData,"email",e.target.value)}}}),t._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.create_errors.email)}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inn"}},[t._v("Inn")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formCreateData.inn,expression:"formCreateData.inn"}],staticClass:"form-control",attrs:{type:"text",name:"inn"},domProps:{value:t.formCreateData.inn},on:{input:function(e){e.target.composing||t.$set(t.formCreateData,"inn",e.target.value)}}}),t._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.create_errors.inn)}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"general_fullname"}},[t._v("General fullname")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formCreateData.general_fullname,expression:"formCreateData.general_fullname"}],staticClass:"form-control",attrs:{type:"text",name:"general_fullname"},domProps:{value:t.formCreateData.general_fullname},on:{input:function(e){e.target.composing||t.$set(t.formCreateData,"general_fullname",e.target.value)}}}),t._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.create_errors.general_fullname)}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"contact_fullname"}},[t._v("Contact fullname")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formCreateData.contact_fullname,expression:"formCreateData.contact_fullname"}],staticClass:"form-control",attrs:{type:"text",name:"contact_fullname"},domProps:{value:t.formCreateData.contact_fullname},on:{input:function(e){e.target.composing||t.$set(t.formCreateData,"contact_fullname",e.target.value)}}}),t._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:t._s(t.create_errors.contact_fullname)}})]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[t.isViewCreate?a("button",{staticClass:"btn btn-primary",on:{click:t.sendData}},[t._v("Create store")]):t._e(),t._v(" "),t.isViewCreate?t._e():a("button",{staticClass:"btn btn-primary",on:{click:t.sendData}},[t._v("Save store")])])])])])}),[],!1,null,null,null).exports}}]);