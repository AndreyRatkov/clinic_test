(self.webpackChunk=self.webpackChunk||[]).push([[877],{2877:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(629);a(1263),a(122);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const n={name:"createStorageLocation",data:function(){return{pagination:{},isLoad:!1,param_storage_location_id:this.$route.params.storage_location_id,isViewCreate:this.$route.params.flag,formData:{},formCreateData:{name:"",adress:"",telephone:"",number:"",scan:"",storage_location_id:0,store_id:0},create_errors:{},edit_errors:{},errors:{},lastValue:"",lastCollection:"",timer:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,r.rn)({cur_store_id:function(e){return e.select_store_id}})),methods:{resetFormCreate:function(){this.formCreateData.storage_location_id=0,this.formCreateData.name="",this.formCreateData.store_id=0,this.formCreateData.adress="",this.formCreateData.telephone="",this.formCreateData.number="",this.formCreateData.scan="",this.formCreateData.telephone=""},sendData:function(){this.isViewCreate?(console.log("sendCreateStorageLocation"),this.sendCreateStorageLocation()):(console.log("sendUpdateStorageLocation"),this.sendEditStorageLocation())},sendCreateStorageLocation:function(){var e=this,t=localStorage.getItem("token");this.formCreateData.store_id=this.cur_store_id,axios.defaults.headers.common.Authorization="Bearer "+t,axios.post("/api/create_storage_location",this.formCreateData).then((function(t){e.resetFormCreate(),e.$router.push("/storage-locations-list")})).catch((function(t){e.create_errors=t.response.data.errors}))},sendEditStorageLocation:function(){var e=this,t=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+t,this.formCreateData.storage_location_id=this.param_storage_location_id,axios.post("/api/update_storage_location",this.formCreateData).then((function(t){e.resetFormCreate(),e.$router.push("/storage-locations-list")})).catch((function(t){e.create_errors=t.response.data.errors}))},getDetailStorageLocation:function(){var e=this,t=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+t,axios.post("/api/detail_storage_location_info",{storage_location_id:this.param_storage_location_id,store_id:this.cur_store_id}).then((function(t){e.formCreateData.name=t.data.storage_location.name,e.formCreateData.adress=t.data.storage_location.adress,e.formCreateData.telephone=t.data.storage_location.telephone,e.formCreateData.number=t.data.storage_location.number,e.formCreateData.scan=t.data.storage_location.scan})).catch((function(t){e.create_errors=t.response.data.errors}))}},mounted:function(){this.isViewCreate||this.getDetailStorageLocation()}};const i=(0,a(1900).Z)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.isViewCreate?a("h2",[e._v("\n        Создание расположение склада \n    ")]):e._e(),e._v(" "),e.isViewCreate?e._e():a("h2",[e._v('\n        Редактируем расположение склада: "'+e._s(e.formCreateData.name)+'" \n    ')]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("Название")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formCreateData.name,expression:"formCreateData.name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.formCreateData.name},on:{input:function(t){t.target.composing||e.$set(e.formCreateData,"name",t.target.value)}}}),e._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:e._s(e.create_errors.name)}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"adress"}},[e._v("Адрес")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formCreateData.adress,expression:"formCreateData.adress"}],staticClass:"form-control",attrs:{type:"text",name:"adress"},domProps:{value:e.formCreateData.adress},on:{input:function(t){t.target.composing||e.$set(e.formCreateData,"adress",t.target.value)}}}),e._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:e._s(e.create_errors.adress)}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"telephone"}},[e._v("Номер телефона")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formCreateData.telephone,expression:"formCreateData.telephone"}],staticClass:"form-control",attrs:{type:"text",name:"telephone"},domProps:{value:e.formCreateData.telephone},on:{input:function(t){t.target.composing||e.$set(e.formCreateData,"telephone",t.target.value)}}}),e._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:e._s(e.create_errors.telephone)}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"number"}},[e._v("Номер")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formCreateData.number,expression:"formCreateData.number"}],staticClass:"form-control",attrs:{type:"text",name:"number"},domProps:{value:e.formCreateData.number},on:{input:function(t){t.target.composing||e.$set(e.formCreateData,"number",t.target.value)}}}),e._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:e._s(e.create_errors.number)}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"scan"}},[e._v("Scan")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formCreateData.scan,expression:"formCreateData.scan"}],staticClass:"form-control",attrs:{type:"text",name:"scan"},domProps:{value:e.formCreateData.scan},on:{input:function(t){t.target.composing||e.$set(e.formCreateData,"scan",t.target.value)}}}),e._v(" "),a("p",{staticClass:"text-danger",domProps:{textContent:e._s(e.create_errors.scan)}})]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[e.isViewCreate?a("button",{staticClass:"btn btn-primary",on:{click:e.sendData}},[e._v("Создать")]):e._e(),e._v(" "),e.isViewCreate?e._e():a("button",{staticClass:"btn btn-primary",on:{click:e.sendData}},[e._v("Сохранить")])])])])])}),[],!1,null,null,null).exports}}]);