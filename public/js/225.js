(self.webpackChunk=self.webpackChunk||[]).push([[225],{7225:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(629);r(1263),r(122);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Vue.component("tree-item",{template:'<li>\n                <div\n                  :class="{bold: isFolder}"\n                  @click="toggle"\n                  @dblclick="makeFolder">\n                  {{ item.name }}\n                  <span v-if="isFolder">[{{ isOpen ? "-" : "+" }}]</span>\n                </div>\n                <ul v-show="isOpen" v-if="isFolder">\n                  <tree-item\n                    class="item"\n                    v-for="(child, index) in item.children"\n                    :key="index"\n                    :item="child"\n                    @make-folder="$emit(\'make-folder\', $event)"\n                    @add-item="$emit(\'add-item\', $event)"\n                  ></tree-item>\n                  <li class="add" @click="$emit(\'add-item\', item)">+</li>\n                </ul>\n            </li>',props:{item:Object},data:function(){return{isOpen:!1}},computed:{isFolder:function(){return this.item.children&&this.item.children.length}},methods:{toggle:function(){this.isFolder&&(this.isOpen=!this.isOpen)},makeFolder:function(){this.isFolder||(this.$emit("make-folder",this.item),this.isOpen=!0)}}});new Vue({el:"#demo",data:{treeData:{name:"My Tree",children:[{name:"hello"},{name:"wat"},{name:"child folder",children:[{name:"child folder",children:[{name:"hello"},{name:"wat"}]},{name:"hello"},{name:"wat"},{name:"child folder",children:[{name:"hello"},{name:"wat"}]}]}]}},methods:{makeFolder:function(e){Vue.set(e,"children",[]),this.addItem(e)},addItem:function(e){e.children.push({name:"new stuff"})}}});const n={name:"createGroupProduct",data:function(){return{isLoad:!1,param_group_product_id:this.$route.params.group_product_id,isViewCreate:this.$route.params.flag,formData:{},formCreateData:{name:"",description:"",group_product_id:null,store_id:0,id:0},create_errors:{},edit_errors:{},errors:{}}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,a.rn)({cur_store_id:function(e){return e.select_store_id}})),methods:{resetFormCreate:function(){this.formCreateData.group_product_id=null,this.formCreateData.id=0,this.formCreateData.store_id=0,this.formCreateData.name="",this.formCreateData.description=""},sendData:function(){this.isViewCreate?(console.log("sendCreateGroupProduct"),this.sendCreateGroupProduct()):(console.log("sendUpdateGroupProduct"),this.sendEditGroupProduct())},sendCreateGroupProduct:function(){var e=this,t=localStorage.getItem("token");this.formCreateData.store_id=this.cur_store_id,axios.defaults.headers.common.Authorization="Bearer "+t,axios.post("/api/create_group_product",this.formCreateData).then((function(t){e.resetFormCreate(),e.$router.push("/group-products-list")})).catch((function(t){e.create_errors=t.response.data.errors}))},sendEditGroupProduct:function(){var e=this,t=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+t,this.formCreateData.id=this.param_group_product_id,axios.post("/api/update_group_product",this.formCreateData).then((function(t){e.resetFormCreate(),e.$router.push("/group-products-list")})).catch((function(t){e.create_errors=t.response.data.errors}))},getDetailGroupProduct:function(){var e=this,t=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+t,axios.post("/api/detail_group_product_info",{id:this.param_group_product_id,store_id:this.cur_store_id}).then((function(t){e.formCreateData.name=t.data.group_product.name,e.formCreateData.description=t.data.group_product.description,e.formCreateData.group_product_id=t.data.group_product.group_product_id})).catch((function(t){e.create_errors=t.response.data.errors}))}},mounted:function(){this.isViewCreate||this.getDetailContractor()}};const s=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e.isViewCreate?r("h2",[e._v("\n        Создание группы продуктов \n    ")]):e._e(),e._v(" "),e.isViewCreate?e._e():r("h2",[e._v('\n        Редактируем группу продуктов: "'+e._s(e.formCreateData.name)+'" \n    ')]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Название")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formCreateData.name,expression:"formCreateData.name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.formCreateData.name},on:{input:function(t){t.target.composing||e.$set(e.formCreateData,"name",t.target.value)}}}),e._v(" "),r("p",{staticClass:"text-danger",domProps:{textContent:e._s(e.create_errors.name)}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"group_product_id"}},[e._v("Родительская группа")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formCreateData.group_product_id,expression:"formCreateData.group_product_id"}],staticClass:"form-control",attrs:{type:"text",name:"group_product_id"},domProps:{value:e.formCreateData.group_product_id},on:{input:function(t){t.target.composing||e.$set(e.formCreateData,"group_product_id",t.target.value)}}}),e._v(" "),r("p",{staticClass:"text-danger",domProps:{textContent:e._s(e.create_errors.group_product_id)}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"description"}},[e._v("Описание")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formCreateData.description,expression:"formCreateData.description"}],staticClass:"form-control",attrs:{type:"text",name:"description"},domProps:{value:e.formCreateData.description},on:{input:function(t){t.target.composing||e.$set(e.formCreateData,"description",t.target.value)}}}),e._v(" "),r("p",{staticClass:"text-danger",domProps:{textContent:e._s(e.create_errors.description)}})]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[e.isViewCreate?r("button",{staticClass:"btn btn-primary",on:{click:e.sendData}},[e._v("Создать")]):e._e(),e._v(" "),e.isViewCreate?e._e():r("button",{staticClass:"btn btn-primary",on:{click:e.sendData}},[e._v("Сохранить")])])])])])}),[],!1,null,null,null).exports}}]);