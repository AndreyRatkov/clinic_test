(self.webpackChunk=self.webpackChunk||[]).push([[164],{3164:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});s(1263),s(122);function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const o={name:"DisassembliesList",data:function(){return{isNotEmptyRedis:!1,isLoaded:!1,pagination:{},remove_disassembly_name:"",remove_disassembly_id:0,errors:{}}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},(0,s(629).rn)({cur_store_name:function(t){return t.select_store_name},cur_store_id:function(t){return t.select_store_id}})),methods:{getDisassemblies:function(t){var e=this,s=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+s,t=t||"api/get_disassembly_list",axios.post(t,{store_id:this.cur_store_id}).then((function(t){console.log("disassemblies length:"+t.data.disassemblies.data.length),e.disassemblies=t.data.disassemblies.data,e.makePagination(t.data.disassemblies)})).catch((function(t){console.log(t)}))},makePagination:function(t){var e={current_page:t.current_page,last_page:t.last_page,prev_page_url:t.prev_page_url,next_page_url:t.next_page_url};this.pagination=e},showRemoveModal:function(t,e){this.remove_disassembly_name=e,this.remove_disassembly_id=t,$(this.$refs.modal2).modal("show")},redisLoadData:function(){var t=this,e=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+e;var s={store_id:this.cur_store_id};axios.post("/api/redis_load_data",s).then((function(e){t.redisInfoData()})).catch((function(e){t.create_errors=e.response.data.errors}))},redisClearData:function(){var t=this,e=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+e;var s={store_id:this.cur_store_id};axios.post("/api/redis_clear_data",s).then((function(e){t.redisInfoData()})).catch((function(e){t.create_errors=e.response.data.errors}))},redisInfoData:function(){var t=this,e=localStorage.getItem("token");axios.defaults.headers.common.Authorization="Bearer "+e;var s={store_id:this.cur_store_id};axios.post("/api/redis_info_data",s).then((function(e){t.isLoaded=!0,e.data.operation?t.isNotEmptyRedis=!0:t.isNotEmptyRedis=!1})).catch((function(e){t.create_errors=e.response.data.errors}))}},mounted:function(){this.redisInfoData()}};const i=(0,s(1900).Z)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",[t._v("Управление Redis")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t.isNotEmptyRedis&&t.isLoaded?s("div",{staticClass:"text-center"},[s("span",{staticStyle:{color:"green"}},[t._v("Данные Redis не пустые")])]):t._e(),t._v(" "),!t.isNotEmptyRedis&&t.isLoaded?s("div",{staticClass:"text-center"},[s("span",{staticStyle:{color:"red"}},[t._v("Данные Redis пустые")])]):t._e()])]),t._v(" "),s("div",{staticClass:"input-group mb-3"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.redisLoadData()}}},[t._v("Загрузить данные")])]),t._v(" "),s("div",{staticClass:"input-group mb-3"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.redisClearData()}}},[t._v("Очистить данные")])])])}),[],!1,null,null,null).exports}}]);